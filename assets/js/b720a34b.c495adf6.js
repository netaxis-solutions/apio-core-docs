"use strict";(self.webpackChunkapio_core=self.webpackChunkapio_core||[]).push([[653],{3905:(e,t,r)=>{r.d(t,{Zo:()=>u,kt:()=>d});var n=r(7294);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var s=n.createContext({}),p=function(e){var t=n.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},u=function(e){var t=p(e.components);return n.createElement(s.Provider,{value:t},e.children)},c="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},f=n.forwardRef((function(e,t){var r=e.components,o=e.mdxType,a=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),c=p(r),f=o,d=c["".concat(s,".").concat(f)]||c[f]||m[f]||a;return r?n.createElement(d,i(i({ref:t},u),{},{components:r})):n.createElement(d,i({ref:t},u))}));function d(e,t){var r=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=r.length,i=new Array(a);i[0]=f;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[c]="string"==typeof e?e:o,i[1]=l;for(var p=2;p<a;p++)i[p]=r[p];return n.createElement.apply(null,i)}return n.createElement.apply(null,r)}f.displayName="MDXCreateElement"},4398:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>m,frontMatter:()=>a,metadata:()=>l,toc:()=>p});var n=r(7462),o=(r(7294),r(3905));const a={sidebar_position:3},i="Zen",l={unversionedId:"workflows/zen",id:"workflows/zen",title:"Zen",description:"Keep your workflow clean",source:"@site/docs/workflows/zen.md",sourceDirName:"workflows",slug:"/workflows/zen",permalink:"/apio-core-docs/docs/workflows/zen",draft:!1,tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"Templates",permalink:"/apio-core-docs/docs/workflows/templates"},next:{title:"Triggers",permalink:"/apio-core-docs/docs/category/triggers"}},s={},p=[{value:"Keep your workflow clean",id:"keep-your-workflow-clean",level:2},{value:"Use the right node for the right job",id:"use-the-right-node-for-the-right-job",level:2},{value:"Be secure",id:"be-secure",level:2},{value:"Be profitient in the template language",id:"be-profitient-in-the-template-language",level:2},{value:"Be part of the community",id:"be-part-of-the-community",level:2}],u={toc:p},c="wrapper";function m(e){let{components:t,...r}=e;return(0,o.kt)(c,(0,n.Z)({},u,r,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"zen"},"Zen"),(0,o.kt)("h2",{id:"keep-your-workflow-clean"},"Keep your workflow clean"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Use subworkflows when a group of nodes can be reused in multiple workflows.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Use the labels and the descriptions to store information about your workflow.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"When writing templates, try to keep them as simple as possible. If you need to write a complex template, consider using internal variables."))),(0,o.kt)("admonition",{title:"Bad",type:"danger"},(0,o.kt)("pre",{parentName:"admonition"},(0,o.kt)("code",{parentName:"pre",className:"language-jinja2"},"{% for u in (request.body|rest2dict).users|selectattr(email)|list %}{{u|pp_dict}}{% endfor %}\n"))),(0,o.kt)("admonition",{title:"Good",type:"tip"},(0,o.kt)("pre",{parentName:"admonition"},(0,o.kt)("code",{parentName:"pre",className:"language-jinja2"},"{% set body = request.body|rest2dict %}\n{% set users_with_mail = body.users|selectattr(email) %}\n\n{% for u in users_with_mail|list %}\n    {{u|pp_dict}}\n{% endfor %}\n"))),(0,o.kt)("h2",{id:"use-the-right-node-for-the-right-job"},"Use the right node for the right job"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Prefer the node ",(0,o.kt)("a",{parentName:"p",href:"nodes/#multiple-context-setter"},"multiple context setter")," over the node ",(0,o.kt)("a",{parentName:"p",href:"nodes/#context-setter"},"Context setter")," when you need to set multiple contexts.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Prefer the ",(0,o.kt)("a",{parentName:"p",href:"nodes/#macro"},"macro")," when you have only one input to run a subworkflow. It will give you a cleaner workflow than extracting the response from subworkflows by hand."))),(0,o.kt)("h2",{id:"be-secure"},"Be secure"),(0,o.kt)("p",null,"Workflows give you maximum of flexibility but still, you need to be careful about the security of your data. Here are some tips to help you to keep your data safe."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Use environment variables to store your credentials.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Careful with the user input. If you need to use user input, make sure to validate it before using it.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Careful with user right, especially when the user is authenticated with SSO mechanisms."))),(0,o.kt)("h2",{id:"be-profitient-in-the-template-language"},"Be profitient in the template language"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"The more you will know the template language, the more you will be able to write complex workflows in a simple but efficient way.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Use built-in filters and tests when possible. They are faster than the custom ones. And cleaner than making a lot of ",(0,o.kt)("inlineCode",{parentName:"p"},"if")," statements or loops.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Use the template playground to test your templates before having hard time debugging a complete workflow."))),(0,o.kt)("h2",{id:"be-part-of-the-community"},"Be part of the community"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Join us on Slack to share your workflows, your ideas and to get help from the community.")))}m.isMDXComponent=!0}}]);